<template>
  <lightning-card title="Movie Details">
    <template if:true={movieId}>

      <div class="slds-grid slds-gutters">
        <div class="slds-col">
          <div class="slds-region_narrow slds-p-left_x-large slds-p-bottom_large">
            <c-star-ratings
            read-only-star
            static-color="#f6da3f"
            rating={movie.Rating__c}
          >
          </c-star-ratings>
          <template if:true={movie.Picture__c}>
            <img
              style="max-height: 200px"
              alt="Image on T.O."
              src={movie.Picture__c}
            />
          </template>
          </div>
        </div>
        <div class="slds-col">
          <dl class="slds-dl_horizontal slds-m-around_small">
            <dt class="slds-dl_horizontal__label label slds-p-vertical_xxx-small">Name  </dt>
            <dd class="slds-dl_horizontal__detail slds-p-vertical_xxx-small">{movie.Name}</dd>
            <dt class="slds-dl_horizontal__label label slds-p-vertical_xxx-small">Release Date  </dt>
            <dd class="slds-dl_horizontal__detail slds-p-vertical_xxx-small">{movie.Release_date__c}</dd>
            <dt class="slds-dl_horizontal__label label slds-p-vertical_xxx-small">Category  </dt>
            <dd class="slds-dl_horizontal__detail slds-p-vertical_xxx-small">{movie.Category__c}</dd>
            <dt class="slds-dl_horizontal__label label slds-p-vertical_xxx-small">Description  </dt>
            <dd class="slds-dl_horizontal__detail slds-p-vertical_xxx-small">{movie.Description__c}</dd>
  
            <template if:true={hasActors}>
              <dt class="slds-dl_horizontal__label label slds-p-vertical_xxx-small">Actors </dt>
              <dd class="slds-dl_horizontal__detail slds-p-vertical_xxx-small">
                <ul>
                  <template for:each={movie.Actors} for:item="actor">
                    <li key={actor.id}>{actor.Name}</li>
                  </template>
                </ul>
              </dd>
            </template>
  
          </dl>
        </div>
      </div>


     <div >
      <lightning-layout pull-to-boundary="medium" padding="horizontal-medium">

        <lightning-layout-item flexibility="auto" padding="horizontal-small" class="slds-align_absolute-center">
        
          </lightning-layout-item>
          
        <lightning-layout-item flexibility="auto" padding="horizontal-medium">
         
      </lightning-layout-item>
      </lightning-layout>
     </div>
      <c-new-movie-modal
        isopen={isOpen}
        onclosemodal={handleCloseModal}
        onrefresh={refreshMoviesList}
        movie={movie}
      ></c-new-movie-modal>

        <div class="slds-grid_align-center slds-p-left_x-large">
          <lightning-button
            variant="brand-outline"
            class="slds-m-top_small slds-m-left_x-small"
            type="submit"
            label="Update"
            onclick={handleUpdateBtn}
          >
          </lightning-button>
          <lightning-button
            variant="destructive"
            class="slds-m-top_small slds-m-left_x-small"
            label="Delete"
            onclick={handleDeleteBtn}
          ></lightning-button>
        </div>
    </template>
  
    <template if:false={movieId}>
      <lightning-layout class="slds-grid_align-center">
        <p>{clickHereToPreviewLabel}</p>
      </lightning-layout>
    </template>
  </lightning-card>
</template>
